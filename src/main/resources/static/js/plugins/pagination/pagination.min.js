!function(a,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):a.Pagination=e()}(this,function(){"use strict";var a=0;return function(e,t){if(e.pageOptions={},void 0===e.uiPagination)throw new Error("未填写参数：uiPagination");var n='[ui-pagination="'+e.uiPagination+'"]';if(void 0===e.$http)throw new Error("未填写参数：$http");if(void 0===e.url)throw new Error("未填写参数：url");void 0===e.paginationPageNumber?e.pageOptions.pageNumber=1:e.pageOptions.pageNumber=e.paginationPageNumber,void 0===e.paginationPageSize?e.pageOptions.pageSize=25:e.pageOptions.pageSize=e.paginationPageSize,void 0===e.paginationPageSizes?e.pageOptions.pageSizes=[5,10,15,25,50,75,100]:e.pageOptions.pageSizes=e.paginationPageSizes;var i={pageParams:{pageNumber:e.pageOptions.pageNumber,pageSize:e.pageOptions.pageSize},pageOptions:e.pageOptions,getPage:function(p){p.pageNumber=p.pageNumber-1,e.$http.get(e.url,{params:p}).success(function(e,g,o,s){if(!t)throw new Error("列表未填写参数");if(t(e),p.pageNumber=p.pageNumber+1,e.data.length){var r="",u="";if(Number(e.total)>0){if(Number(e.total)<Number(p.pageSize))r+='<button class="item" disabled><i class="fa fa-step-backward" data-name="start"></i></button>',r+='<button class="item mg-l-5" data-name="prev" disabled><i class="fa fa-caret-left mg-font-18"></i></button>',r+='<input type="number" value="'+p.pageNumber+'" class="mg-l-5 pageNumber" />',r+='<span class="current-pageNumber mg-l-5"> / 0</span>',r+='<button type="button" class="item mg-l-5" data-name="next" disabled><i class="fa fa-caret-right mg-font-18 next"></i></button>',r+='<button class="item mg-l-5" data-name="end" disabled><i class="fa fa-step-forward"></i></button>';else{var m=e.total/p.pageSize;-1!=String(m).indexOf(".")&&(m=parseInt(m)+1),1==p.pageNumber?r+='<button class="item" disabled><i class="fa fa-step-backward" data-name="start"></i></button>':r+='<button class="item btn-hover btn-active" data-name="start"><i class="fa fa-step-backward"></i></button>',1==p.pageNumber?r+='<button class="item mg-l-5" data-name="prev" disabled><i class="fa fa-caret-left mg-font-18"></i></button>':r+='<button class="item btn-hover btn-active mg-l-5" data-name="prev"><i class="fa fa-caret-left mg-font-18"></i></button>',r+='<input type="number" value="'+p.pageNumber+'" class="mg-l-5 pageNumber" />',r+='<span class="current-pageNumber mg-l-5"> /  '+m+"</span>",p.pageNumber==m?r+='<button type="button" class="item mg-l-5" data-name="next" disabled><i class="fa fa-caret-right mg-font-18 next"></i></button>':r+='<button type="button" class="item btn-hover btn-active mg-l-5" data-name="next"><i class="fa fa-caret-right mg-font-18 next"></i></button>',p.pageNumber==m?r+='<button class="item mg-l-5" data-name="end" disabled><i class="fa fa-step-forward"></i></button>':r+='<button class="item btn-hover btn-active mg-l-5" data-name="end"><i class="fa fa-step-forward"></i></button>',r+='<select class="pageSize mg-l-5">';for(var l in i.pageOptions.pageSizes)i.pageOptions.pageSizes[l]==p.pageSize?r+='<option vlaue="'+i.pageOptions.pageSizes[l]+'" selected>'+i.pageOptions.pageSizes[l]+"</option>":r+='<option vlaue="'+i.pageOptions.pageSizes[l]+'">'+i.pageOptions.pageSizes[l]+"</option>";r+="</select>"}1==p.pageNumber||(p.pageNumber,p.pageSize),1==p.pageNumber?e.data.length:(p.pageNumber,p.pageSize,e.data.length),u+="共 "+e.total+" 行"}else r+='<li class="disabled" data-status="off" data-name="prev"><a>上一页</a></li><li class="disabled" data-status="off" data-name="next"><a class="next">下一页</a></li>',u+="";var b='<div id="paginations" class="pagination"><div class="pagination-page inline-block">'+r+'</div><div class="pagination-total inline-block">'+u+"</div></div>";$(n).find(".pagination").remove(),$(n).remove(".pagination").append(b),$(document).off("click",n+" .pagination .pagination-page button"),$(document).on("click",n+" .pagination .pagination-page button",function(){var e=$(this);clearInterval(a),a=setTimeout(function(){"start"==e.attr("data-name")?p.pageNumber=1:"prev"==e.attr("data-name")?p.pageNumber=p.pageNumber-1:"next"==e.attr("data-name")?p.pageNumber=p.pageNumber+1:"end"==e.attr("data-name")&&(p.pageNumber=m),i.getPage(p)},1e3)}),$(document).off("input",n+" .pagination .pagination-page input.pageNumber"),$(document).on("input",n+" .pagination .pagination-page input.pageNumber",function(){var e=$(this).val();""==e?($(this).val(1),p.pageNumber=1,i.getPage(p)):(clearInterval(a),a=setTimeout(function(){p.pageNumber=e,i.getPage(p)},1e3))}),$(document).off("change",n+" .pagination .pagination-page select.pageSize"),$(document).on("change",n+" .pagination .pagination-page select.pageSize",function(){var e=$(this).find("option:checked").val();clearInterval(a),a=setTimeout(function(){p.pageSize=e,i.getPage(p)},1e3)})}else $(n).find(".pagination").remove()})},refresh:function(){this.getPage(this.pageParams)}};return void 0===e.data?e.data={}:i.pageParams=Object.assign(e.data,i.pageParams),i.getPage(i.pageParams),i}});